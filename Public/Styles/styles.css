* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: system-ui, sans-serif;
}
body {
  background: radial-gradient(circle at top, #111827, #020617);
  color: #e5e7eb;
  height: 100vh;
  overflow: hidden;
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-columns: 320px 1fr 360px;
  grid-template-areas:
    "header header header"
    "left main right"
    "footer footer footer";
}
header {
  grid-area: header;
  background: #161b22;
  border-bottom: 1px solid #30363d;
  padding: 10px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
header h1 {
  font-size: 18px;
  font-weight: 700;
  text-transform: uppercase;
}
header span {
  font-size: 12px;
  color: #9ca3af;
}
main {
  grid-area: main;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}
.maze-shell {
  background: #020617;
  border: 2px solid #30363d;
  border-radius: 12px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.8);
  position: relative;
}
.maze-container {
  /* default square that can be overridden by JS for difficulty scaling */
  width: min(78vh, 78vw);
  height: min(78vh, 78vw);
  max-width: 95vmin;
  max-height: 95vmin;
  display: flex;
  align-items: center;
  justify-content: center;
}
.maze-inner {
  border: 1px solid #30363d;
  border-radius: 8px;
  overflow: hidden;
}
.row { display: flex; }
.cell { background: #020617; }
.left-wall { border-left: 1px solid #30363d; }
.right-wall { border-right: 1px solid #30363d; }
.top-wall { border-top: 1px solid #30363d; }
.bottom-wall { border-bottom: 1px solid #30363d; }
.wrapper { width:100%;height:100%;padding:20%;display:flex;align-items:center;justify-content:center; }
.point { border-radius:50%;width:100%;height:100%; }
#statusToast {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #161b22;
  border: 1px solid #30363d;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 11px;
  opacity: 0;
  transition: opacity 0.2s ease;
}
#statusToast.show { opacity: 1; }
aside {
  background: #161b22;
  border-right: 1px solid #30363d;
  padding: 12px;
  overflow-y: auto;
}
aside.right {
  border-left: 1px solid #30363d;
}

.right .panel { margin-top: 12px; }
.right .leaderboard-list-inner, .right .json-output { margin-bottom: 8px; }
.left { padding-right: 8px; }
.right { padding-left: 8px; }
aside h2 {
  font-size: 13px;
  text-transform: uppercase;
  color: #9ca3af;
  margin-bottom: 6px;
}
.field-group { margin-bottom: 10px; }
.field-group label { font-size: 12px; display:block; margin-bottom:4px; }
select, input[type="color"], textarea {
  width: 100%;
  background: #0d1117;
  border: 1px solid #30363d;
  border-radius: 6px;
  padding: 6px;
  color: #e5e7eb;
}
textarea { min-height:80px; }
.button-row { display:flex; gap:6px; flex-wrap:wrap; }
button {
  border-radius: 6px;
  border: none;
  padding: 6px 12px;
  font-size: 12px;
  cursor: pointer;
}
.btn-primary { background:#238636;color:#fff; }
.btn-ghost { background:#21262d;color:#e5e7eb;border:1px solid #30363d; }
.btn-warning { background:#da3633;color:#fff; }
footer {
  grid-area: footer;
  background: #161b22;
  border-top: 1px solid #30363d;
  padding: 8px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
#timerDisplay { font-size: 24px; font-weight: 700; }
#timerStatusIndicator { font-size: 12px; border:1px solid #30363d; padding:2px 6px; border-radius:6px; }
#instructionsPopup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
}
#instructionsBox {
  background: #161b22;
  border: 1px solid #30363d;
  border-radius: 12px;
  padding: 20px;
  width: 360px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
#instructionsBox h2 { font-size: 18px; }
#instructionsBox p { font-size: 13px; color:#d1d5db; }
#instructionsBox label { font-size: 12px; color:#9ca3af; display:flex; align-items:center; gap:6px; }
#closeInstructionsBtn { background:#238636;color:#fff;padding:8px;border-radius:6px;cursor:pointer; }
.saved-maps-list, .leaderboard-list-inner {
  background:#0d1117;
  border:1px solid #30363d;
  border-radius:8px;
  padding:6px;
  max-height:150px;
  overflow-y:auto;
}
.leaderboard-row { display:flex;justify-content:space-between;padding:4px;border-radius:6px;background:#161b22;margin-bottom:4px; }
.leaderboard-row.best { border:1px solid #22c55e; }
.json-output {
  background:#0d1117;
  border:1px solid #30363d;
  border-radius:8px;
  padding:6px;
  font-size:11px;
  max-height:120px;
  overflow-y:auto;
}